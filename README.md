# Linux-command

오픈소스SW개론 과제

top, ps, jobs, kill 명령어 조사

---

## 실시간 프로세스 출력 (top)

리눅스 시스템의 운용상황을 실시간으로 전반적인 상황을 모니터링하거나 프로세스 관리를 할 수 있는 유틸리티

1. 세부 정보 필드별 항목

  * PID : 프로세스 ID (PID)
  * USER : 프로세스를 실행시킨 사용자 ID
  * PRI : 프로세스의 우선순위 (priority)
  * NI : NICE 값
  * VIRT : 가상 메모리의 사용량(SWAP+RES)
  * RES : 현재 페이지가 상주하고 있는 크기(Resident Size)
  * SHR : 분할된 페이지, 프로세스에 의해 사용된 메모리를 나눈 메모리의 총합
  * S : 프로세스의 상태 [ S(sleeping), R(running), W(swapped out process), Z(zombies) ]
  * %CPU : 프로세스가 사용하는 CPU의 사용율
  * %MEM : 프로세스가 사용하는 메모리의 사용율
  * TIME+ : 프로세스 시작된 이후 경과된 총 시간
  * COMMAND : 실행된 명령어



2. top 실행 전 옵션

옵션 | 의미
---|:---:
`-b`	| 배치모드 옵션 
`-n`	| top 실행 주기를 설정
`-p`	| process ID 



3. top 실행 후 옵션

옵션 | 의미
---|:---:
`shift + t` | 실행된 시간이 큰 순서로 정렬
`shift + m` | 메모리 사용량이 큰 순서로 정렬
`shift + p` | cpu 사용량이 큰 순서로 정렬
`space bar`	| Refresh
`shift + b` | 상단의 uptime 및 기타 정보값을 블럭 선택해 표시
`d [sec]`	| 설정된 초단위로 Refresh
`k` | Process 종료
`c` | 명령 인자 표시 / 비표시
`l` | uptime line(첫번째 행)을 표시 / 비표시
`u` | 입력한 유저 소유의 Process만 표시
`f` | 화면에 표시될 프로세스 관련 항목 설정
`i`	| idle 또는 좀비 상태의 프로세스는 표시 되지 않음
`z`	| 출력 색상 변경
`q`	| 명령어 종료



4. ps top 명령어 차이

`$ ps` : 명령어는 명령어가 실행된 순간의 프로세스 상태들에 대해서 정적인 정보만을 제공

`% top` : 시스템 활동을 실시간으로 제공



---

## 프로세스 출력 (ps)

현재 시스템에서 실행 중인 프로세스에 관한 정보를 출력하여 사용자에게 정보를 제공


1. 옵션

옵션 | 의 미
---|:---:
`a` | 터미널과 연관된 프로세스 출력
`e` | 프로세스에 관련된 환경 변수 정보 출력
`f` | 프로세스간 상속관계를 트리형식으로 출력
`l` |  프로세스의 정보를 길게 보여줌
`u` | 프로세스의 소유자를 기준으로 출력
`x` |  터미널에 종속되지 않는 프로세스 출력
`p` |  지정한 프로세스 출력
`-a` | 세션리더를 제외하고 터미널에 종속되지 않은 모든 프로세스 출력
`-A` | 모든 프로세스 출력
`-C [process]` | 뒤에 입력된 프로세스만 출력
`-e` | 모든 프로세스 출력
`-f` | 유닉스 스타일로 출력해줌
`-o [value]` | 출력 포맷을 지정



2. 프로세스 도표 항목

프로세스 항목 | 의미
---|:---:
`F` | 프로세스 플래그
`S~ | 프로세스 상태코
`UID` | 프로세스 소유자이름
`PID` | 프로세스 고유식별자
`PPID` | 부모프로세스의 PID
`C` | 프로세서 사용률 %로 표기
`PRI` | 프로세스의 우선순위. 높은값이 낮은 우선순위
`NI` | nice 값이며 19에서 -20값
`SZ` | 프로세스 이미지가 차지하는 물리적 페이지 크기
`WCHAN` | 대기중일때 커널 함수의 이름
`STIME` | 프로세스가 시작한 시간
`TTY` | 터미널의 종류
`TIME` | 총 CPU 사용시간
`CMD` | 프로세스의 실행 시 명령줄



3. `$ ps -x` STAT 필드 상태 의미

프로세스 상태(STAT) | 의미
---|:---:
`D` | 인터럽트가 불가능한 대기상태로 일반적으로 입출력 시 의미
`I` | 커널 쓰레드가 유휴상태를 의미
`R` | 프로세스가 실행중이거나 실행 가능한 상태 의미
`S` | 인터럽트가 가능한 대기상태
`T` | 작업 제어신호에 의해 멈춤상태
`t` | 디버깅 중 디버거에 의해 멈춘상태
`X` | 프로세스 죽은 상태
`Z` | 좀비프로세스
`<` | 높은 우선순위 상태
`N` | 낮은 우선순위 상태
`L` | 페이지가 락된 메로리를 갖고있음
`s` | 세션 리더
`|` | 멀티 쓰레드
`+` | 포어그라운드 프로세스 그룹


---

## 백그라운드 프로세스 출력 (jobs)

현재 돌아가고 있는 백그라운드 프로세스 리스트를 모두 출력

1. 옵션

옵션 | 의미
---|:---:
`-l` | 프로세스 ID와 함께 잡 목록을 출력
`-n` | 마지막로 알림 이후 변경된 잡만 출력
`-p` | 잡의 프로세스 ID만 출력
`-r` | 실행 중인 잡만 출력
`-s` | 중지된 잡만 출력


2. 실행결과 의미

[3]  실행중 :

[4]- 실행중 : 

[5]+ 실행중 : 

형태 | 의미
---|:---:
숫자 | 스택의 순서
+ | 스택 가장 위
- | 스택 2번째



---

## 프로세스 종료 (kill)

프로세스에 메시지를 보내 프로세스를 제어

1. 옵션

번호 | 시그널 | 의미
---|:---:|---
1 | SIGHUP | 터미널에서 접속이 끊겼을때 보내지는 시그널, 변화된 내용을 적용하기 위해 재시작 할 때 사용된다. 
2 | SIGINT |  인터럽트 시그널로 실행을 중지시킴, Ctrl + c 입력시 보내지는 시그널 
3 | SIGQUIT | 실행 중지 시그널로서 Ctrl + \ 입력시 보내지는 시그널 
9 | SIGKILL | 프로세스를 강제로 종료 시키는 시그널 
15 | SIGTERM | kill의 기본 시그널로 정상 종료 시키는 시그널 
18 | SIGCONT | 시그널에 의해 정지된 프로세스를 다시 실행시키는 시그널 
19 | SIGSTOP | 정지 시그널 
20 | SIGTSTP | 일시정지 시키는 시그널로서 Ctrl + z 입력시 보내지는 시그널 



2. 사용법

`$ ps` 후 PID 확인

`$ kill 옵션 PID`
